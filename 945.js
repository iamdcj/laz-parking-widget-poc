/*! For license information please see 945.js.LICENSE.txt */
"use strict";(self.webpackChunklaz_parking_widget_poc=self.webpackChunklaz_parking_widget_poc||[]).push([[945],{111:(e,t,n)=>{n.d(t,{w1:()=>T});var r=n(2017),o=n.n(r);const s=[Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array];class i{static from(e){if(!(e instanceof ArrayBuffer))throw new Error("Data must be an instance of ArrayBuffer.");const[t,n]=new Uint8Array(e,0,2);if(219!==t)throw new Error("Data does not appear to be in a KDBush format.");const r=n>>4;if(1!==r)throw new Error(`Got v${r} data when expected v1.`);const o=s[15&n];if(!o)throw new Error("Unrecognized array type.");const[a]=new Uint16Array(e,2,1),[l]=new Uint32Array(e,4,1);return new i(l,a,o,e)}constructor(e,t=64,n=Float64Array,r){if(isNaN(e)||e<0)throw new Error(`Unpexpected numItems value: ${e}.`);this.numItems=+e,this.nodeSize=Math.min(Math.max(+t,2),65535),this.ArrayType=n,this.IndexArrayType=e<65536?Uint16Array:Uint32Array;const o=s.indexOf(this.ArrayType),i=2*e*this.ArrayType.BYTES_PER_ELEMENT,a=e*this.IndexArrayType.BYTES_PER_ELEMENT,l=(8-a%8)%8;if(o<0)throw new Error(`Unexpected typed array class: ${n}.`);r&&r instanceof ArrayBuffer?(this.data=r,this.ids=new this.IndexArrayType(this.data,8,e),this.coords=new this.ArrayType(this.data,8+a+l,2*e),this._pos=2*e,this._finished=!0):(this.data=new ArrayBuffer(8+i+a+l),this.ids=new this.IndexArrayType(this.data,8,e),this.coords=new this.ArrayType(this.data,8+a+l,2*e),this._pos=0,this._finished=!1,new Uint8Array(this.data,0,2).set([219,16+o]),new Uint16Array(this.data,2,1)[0]=t,new Uint32Array(this.data,4,1)[0]=e)}add(e,t){const n=this._pos>>1;return this.ids[n]=n,this.coords[this._pos++]=e,this.coords[this._pos++]=t,n}finish(){const e=this._pos>>1;if(e!==this.numItems)throw new Error(`Added ${e} items when expected ${this.numItems}.`);return a(this.ids,this.coords,this.nodeSize,0,this.numItems-1,0),this._finished=!0,this}range(e,t,n,r){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");const{ids:o,coords:s,nodeSize:i}=this,a=[0,o.length-1,0],l=[];for(;a.length;){const c=a.pop()||0,u=a.pop()||0,d=a.pop()||0;if(u-d<=i){for(let i=d;i<=u;i++){const a=s[2*i],c=s[2*i+1];a>=e&&a<=n&&c>=t&&c<=r&&l.push(o[i])}continue}const p=d+u>>1,h=s[2*p],m=s[2*p+1];h>=e&&h<=n&&m>=t&&m<=r&&l.push(o[p]),(0===c?e<=h:t<=m)&&(a.push(d),a.push(p-1),a.push(1-c)),(0===c?n>=h:r>=m)&&(a.push(p+1),a.push(u),a.push(1-c))}return l}within(e,t,n){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");const{ids:r,coords:o,nodeSize:s}=this,i=[0,r.length-1,0],a=[],l=n*n;for(;i.length;){const c=i.pop()||0,u=i.pop()||0,p=i.pop()||0;if(u-p<=s){for(let n=p;n<=u;n++)d(o[2*n],o[2*n+1],e,t)<=l&&a.push(r[n]);continue}const h=p+u>>1,m=o[2*h],g=o[2*h+1];d(m,g,e,t)<=l&&a.push(r[h]),(0===c?e-n<=m:t-n<=g)&&(i.push(p),i.push(h-1),i.push(1-c)),(0===c?e+n>=m:t+n>=g)&&(i.push(h+1),i.push(u),i.push(1-c))}return a}}function a(e,t,n,r,o,s){if(o-r<=n)return;const i=r+o>>1;l(e,t,i,r,o,s),a(e,t,n,r,i-1,1-s),a(e,t,n,i+1,o,1-s)}function l(e,t,n,r,o,s){for(;o>r;){if(o-r>600){const i=o-r+1,a=n-r+1,c=Math.log(i),u=.5*Math.exp(2*c/3),d=.5*Math.sqrt(c*u*(i-u)/i)*(a-i/2<0?-1:1);l(e,t,n,Math.max(r,Math.floor(n-a*u/i+d)),Math.min(o,Math.floor(n+(i-a)*u/i+d)),s)}const i=t[2*n+s];let a=r,u=o;for(c(e,t,r,n),t[2*o+s]>i&&c(e,t,r,o);a<u;){for(c(e,t,a,u),a++,u--;t[2*a+s]<i;)a++;for(;t[2*u+s]>i;)u--}t[2*r+s]===i?c(e,t,r,u):(u++,c(e,t,u,o)),u<=n&&(r=u+1),n<=u&&(o=u-1)}}function c(e,t,n,r){u(e,n,r),u(t,2*n,2*r),u(t,2*n+1,2*r+1)}function u(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function d(e,t,n,r){const o=e-n,s=t-r;return o*o+s*s}const p={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:e=>e},h=Math.fround||(m=new Float32Array(1),e=>(m[0]=+e,m[0]));var m;class g{constructor(e){this.options=Object.assign(Object.create(p),e),this.trees=new Array(this.options.maxZoom+1),this.stride=this.options.reduce?7:6,this.clusterProps=[]}load(e){const{log:t,minZoom:n,maxZoom:r}=this.options;t&&console.time("total time");const o=`prepare ${e.length} points`;t&&console.time(o),this.points=e;const s=[];for(let t=0;t<e.length;t++){const n=e[t];if(!n.geometry)continue;const[r,o]=n.geometry.coordinates,i=h(y(r)),a=h(b(o));s.push(i,a,1/0,t,-1,1),this.options.reduce&&s.push(0)}let i=this.trees[r+1]=this._createTree(s);t&&console.timeEnd(o);for(let e=r;e>=n;e--){const n=+Date.now();i=this.trees[e]=this._createTree(this._cluster(i,e)),t&&console.log("z%d: %d clusters in %dms",e,i.numItems,+Date.now()-n)}return t&&console.timeEnd("total time"),this}getClusters(e,t){let n=((e[0]+180)%360+360)%360-180;const r=Math.max(-90,Math.min(90,e[1]));let o=180===e[2]?180:((e[2]+180)%360+360)%360-180;const s=Math.max(-90,Math.min(90,e[3]));if(e[2]-e[0]>=360)n=-180,o=180;else if(n>o){const e=this.getClusters([n,r,180,s],t),i=this.getClusters([-180,r,o,s],t);return e.concat(i)}const i=this.trees[this._limitZoom(t)],a=i.range(y(n),b(s),y(o),b(r)),l=i.data,c=[];for(const e of a){const t=this.stride*e;c.push(l[t+5]>1?f(l,t,this.clusterProps):this.points[l[t+3]])}return c}getChildren(e){const t=this._getOriginId(e),n=this._getOriginZoom(e),r="No cluster with the specified id.",o=this.trees[n];if(!o)throw new Error(r);const s=o.data;if(t*this.stride>=s.length)throw new Error(r);const i=this.options.radius/(this.options.extent*Math.pow(2,n-1)),a=s[t*this.stride],l=s[t*this.stride+1],c=o.within(a,l,i),u=[];for(const t of c){const n=t*this.stride;s[n+4]===e&&u.push(s[n+5]>1?f(s,n,this.clusterProps):this.points[s[n+3]])}if(0===u.length)throw new Error(r);return u}getLeaves(e,t,n){t=t||10,n=n||0;const r=[];return this._appendLeaves(r,e,t,n,0),r}getTile(e,t,n){const r=this.trees[this._limitZoom(e)],o=Math.pow(2,e),{extent:s,radius:i}=this.options,a=i/s,l=(n-a)/o,c=(n+1+a)/o,u={features:[]};return this._addTileFeatures(r.range((t-a)/o,l,(t+1+a)/o,c),r.data,t,n,o,u),0===t&&this._addTileFeatures(r.range(1-a/o,l,1,c),r.data,o,n,o,u),t===o-1&&this._addTileFeatures(r.range(0,l,a/o,c),r.data,-1,n,o,u),u.features.length?u:null}getClusterExpansionZoom(e){let t=this._getOriginZoom(e)-1;for(;t<=this.options.maxZoom;){const n=this.getChildren(e);if(t++,1!==n.length)break;e=n[0].properties.cluster_id}return t}_appendLeaves(e,t,n,r,o){const s=this.getChildren(t);for(const t of s){const s=t.properties;if(s&&s.cluster?o+s.point_count<=r?o+=s.point_count:o=this._appendLeaves(e,s.cluster_id,n,r,o):o<r?o++:e.push(t),e.length===n)break}return o}_createTree(e){const t=new i(e.length/this.stride|0,this.options.nodeSize,Float32Array);for(let n=0;n<e.length;n+=this.stride)t.add(e[n],e[n+1]);return t.finish(),t.data=e,t}_addTileFeatures(e,t,n,r,o,s){for(const i of e){const e=i*this.stride,a=t[e+5]>1;let l,c,u;if(a)l=v(t,e,this.clusterProps),c=t[e],u=t[e+1];else{const n=this.points[t[e+3]];l=n.properties;const[r,o]=n.geometry.coordinates;c=y(r),u=b(o)}const d={type:1,geometry:[[Math.round(this.options.extent*(c*o-n)),Math.round(this.options.extent*(u*o-r))]],tags:l};let p;p=a||this.options.generateId?t[e+3]:this.points[t[e+3]].id,void 0!==p&&(d.id=p),s.features.push(d)}}_limitZoom(e){return Math.max(this.options.minZoom,Math.min(Math.floor(+e),this.options.maxZoom+1))}_cluster(e,t){const{radius:n,extent:r,reduce:o,minPoints:s}=this.options,i=n/(r*Math.pow(2,t)),a=e.data,l=[],c=this.stride;for(let n=0;n<a.length;n+=c){if(a[n+2]<=t)continue;a[n+2]=t;const r=a[n],u=a[n+1],d=e.within(a[n],a[n+1],i),p=a[n+5];let h=p;for(const e of d){const n=e*c;a[n+2]>t&&(h+=a[n+5])}if(h>p&&h>=s){let e,s=r*p,i=u*p,m=-1;const g=(n/c<<5)+(t+1)+this.points.length;for(const r of d){const l=r*c;if(a[l+2]<=t)continue;a[l+2]=t;const u=a[l+5];s+=a[l]*u,i+=a[l+1]*u,a[l+4]=g,o&&(e||(e=this._map(a,n,!0),m=this.clusterProps.length,this.clusterProps.push(e)),o(e,this._map(a,l)))}a[n+4]=g,l.push(s/h,i/h,1/0,g,-1,h),o&&l.push(m)}else{for(let e=0;e<c;e++)l.push(a[n+e]);if(h>1)for(const e of d){const n=e*c;if(!(a[n+2]<=t)){a[n+2]=t;for(let e=0;e<c;e++)l.push(a[n+e])}}}}return l}_getOriginId(e){return e-this.points.length>>5}_getOriginZoom(e){return(e-this.points.length)%32}_map(e,t,n){if(e[t+5]>1){const r=this.clusterProps[e[t+6]];return n?Object.assign({},r):r}const r=this.points[e[t+3]].properties,o=this.options.map(r);return n&&o===r?Object.assign({},o):o}}function f(e,t,n){return{type:"Feature",id:e[t+3],properties:v(e,t,n),geometry:{type:"Point",coordinates:[(r=e[t],360*(r-.5)),w(e[t+1])]}};var r}function v(e,t,n){const r=e[t+5],o=r>=1e4?`${Math.round(r/1e3)}k`:r>=1e3?Math.round(r/100)/10+"k":r,s=e[t+6],i=-1===s?{}:Object.assign({},n[s]);return Object.assign(i,{cluster:!0,cluster_id:e[t+3],point_count:r,point_count_abbreviated:o})}function y(e){return e/360+.5}function b(e){const t=Math.sin(e*Math.PI/180),n=.5-.25*Math.log((1+t)/(1-t))/Math.PI;return n<0?0:n>1?1:n}function w(e){const t=(180-360*e)*Math.PI/180;return 360*Math.atan(Math.exp(t))/Math.PI-90}function k(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}class C{static isAdvancedMarkerAvailable(e){return google.maps.marker&&!0===e.getMapCapabilities().isAdvancedMarkersAvailable}static isAdvancedMarker(e){return google.maps.marker&&e instanceof google.maps.marker.AdvancedMarkerElement}static setMap(e,t){this.isAdvancedMarker(e)?e.map=t:e.setMap(t)}static getPosition(e){if(this.isAdvancedMarker(e)){if(e.position){if(e.position instanceof google.maps.LatLng)return e.position;if(e.position.lat&&e.position.lng)return new google.maps.LatLng(e.position.lat,e.position.lng)}return new google.maps.LatLng(null)}return e.getPosition()}static getVisible(e){return!!this.isAdvancedMarker(e)||e.getVisible()}}class M{constructor({markers:e,position:t}){this.markers=e,t&&(t instanceof google.maps.LatLng?this._position=t:this._position=new google.maps.LatLng(t))}get bounds(){if(0===this.markers.length&&!this._position)return;const e=new google.maps.LatLngBounds(this._position,this._position);for(const t of this.markers)e.extend(C.getPosition(t));return e}get position(){return this._position||this.bounds.getCenter()}get count(){return this.markers.filter((e=>C.getVisible(e))).length}push(e){this.markers.push(e)}delete(){this.marker&&(C.setMap(this.marker,null),this.marker=void 0),this.markers.length=0}}class E{constructor({maxZoom:e=16}){this.maxZoom=e}noop({markers:e}){return x(e)}}const x=e=>e.map((e=>new M({position:C.getPosition(e),markers:[e]})));class A extends E{constructor(e){var{maxZoom:t,radius:n=60}=e,r=k(e,["maxZoom","radius"]);super({maxZoom:t}),this.state={zoom:-1},this.superCluster=new g(Object.assign({maxZoom:this.maxZoom,radius:n},r))}calculate(e){let t=!1;const n={zoom:e.map.getZoom()};if(!o()(e.markers,this.markers)){t=!0,this.markers=[...e.markers];const n=this.markers.map((e=>{const t=C.getPosition(e);return{type:"Feature",geometry:{type:"Point",coordinates:[t.lng(),t.lat()]},properties:{marker:e}}}));this.superCluster.load(n)}return t||(this.state.zoom<=this.maxZoom||n.zoom<=this.maxZoom)&&(t=!o()(this.state,n)),this.state=n,t&&(this.clusters=this.cluster(e)),{clusters:this.clusters,changed:t}}cluster({map:e}){return this.superCluster.getClusters([-180,-90,180,90],Math.round(e.getZoom())).map((e=>this.transformCluster(e)))}transformCluster({geometry:{coordinates:[e,t]},properties:n}){if(n.cluster)return new M({markers:this.superCluster.getLeaves(n.cluster_id,1/0).map((e=>e.properties.marker)),position:{lat:t,lng:e}});const r=n.marker;return new M({markers:[r],position:C.getPosition(r)})}}class L{constructor(e,t){this.markers={sum:e.length};const n=t.map((e=>e.count)),r=n.reduce(((e,t)=>e+t),0);this.clusters={count:t.length,markers:{mean:r/t.length,sum:r,min:Math.min(...n),max:Math.max(...n)}}}}class O{render({count:e,position:t},n,r){const o=`<svg fill="${e>Math.max(10,n.clusters.markers.mean)?"#ff0000":"#0000ff"}" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 240 240" width="50" height="50">\n<circle cx="120" cy="120" opacity=".6" r="70" />\n<circle cx="120" cy="120" opacity=".3" r="90" />\n<circle cx="120" cy="120" opacity=".2" r="110" />\n<text x="50%" y="50%" style="fill:#fff" text-anchor="middle" font-size="50" dominant-baseline="middle" font-family="roboto,arial,sans-serif">${e}</text>\n</svg>`,s=`Cluster of ${e} markers`,i=Number(google.maps.Marker.MAX_ZINDEX)+e;if(C.isAdvancedMarkerAvailable(r)){const e=(new DOMParser).parseFromString(o,"image/svg+xml").documentElement;e.setAttribute("transform","translate(0 25)");const n={map:r,position:t,zIndex:i,title:s,content:e};return new google.maps.marker.AdvancedMarkerElement(n)}const a={position:t,zIndex:i,title:s,icon:{url:`data:image/svg+xml;base64,${btoa(o)}`,anchor:new google.maps.Point(25,25)}};return new google.maps.Marker(a)}}class S{constructor(){!function(e,t){for(let n in t.prototype)e.prototype[n]=t.prototype[n]}(S,google.maps.OverlayView)}}var _;!function(e){e.CLUSTERING_BEGIN="clusteringbegin",e.CLUSTERING_END="clusteringend",e.CLUSTER_CLICK="click"}(_||(_={}));const I=(e,t,n)=>{n.fitBounds(t.bounds)};class T extends S{constructor({map:e,markers:t=[],algorithmOptions:n={},algorithm:r=new A(n),renderer:o=new O,onClusterClick:s=I}){super(),this.markers=[...t],this.clusters=[],this.algorithm=r,this.renderer=o,this.onClusterClick=s,e&&this.setMap(e)}addMarker(e,t){this.markers.includes(e)||(this.markers.push(e),t||this.render())}addMarkers(e,t){e.forEach((e=>{this.addMarker(e,!0)})),t||this.render()}removeMarker(e,t){const n=this.markers.indexOf(e);return-1!==n&&(C.setMap(e,null),this.markers.splice(n,1),t||this.render(),!0)}removeMarkers(e,t){let n=!1;return e.forEach((e=>{n=this.removeMarker(e,!0)||n})),n&&!t&&this.render(),n}clearMarkers(e){this.markers.length=0,e||this.render()}render(){const e=this.getMap();if(e instanceof google.maps.Map&&e.getProjection()){google.maps.event.trigger(this,_.CLUSTERING_BEGIN,this);const{clusters:t,changed:n}=this.algorithm.calculate({markers:this.markers,map:e,mapCanvasProjection:this.getProjection()});if(n||null==n){const e=new Set;for(const n of t)1==n.markers.length&&e.add(n.markers[0]);const n=[];for(const t of this.clusters)null!=t.marker&&(1==t.markers.length?e.has(t.marker)||C.setMap(t.marker,null):n.push(t.marker));this.clusters=t,this.renderClusters(),requestAnimationFrame((()=>n.forEach((e=>C.setMap(e,null)))))}google.maps.event.trigger(this,_.CLUSTERING_END,this)}}onAdd(){this.idleListener=this.getMap().addListener("idle",this.render.bind(this)),this.render()}onRemove(){google.maps.event.removeListener(this.idleListener),this.reset()}reset(){this.markers.forEach((e=>C.setMap(e,null))),this.clusters.forEach((e=>e.delete())),this.clusters=[]}renderClusters(){const e=new L(this.markers,this.clusters),t=this.getMap();this.clusters.forEach((n=>{1===n.markers.length?n.marker=n.markers[0]:(n.marker=this.renderer.render(n,e,t),n.markers.forEach((e=>C.setMap(e,null))),this.onClusterClick&&n.marker.addListener("click",(e=>{google.maps.event.trigger(this,_.CLUSTER_CLICK,n),this.onClusterClick(e,n,t)}))),C.setMap(n.marker,t)}))}}},7336:(e,t,n)=>{n.d(t,{A:()=>s});var r=n(5003),o=n(4848);const s=(0,r.A)((0,o.jsx)("path",{d:"M12 8c-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4-1.79-4-4-4m8.94 3c-.46-4.17-3.77-7.48-7.94-7.94V1h-2v2.06C6.83 3.52 3.52 6.83 3.06 11H1v2h2.06c.46 4.17 3.77 7.48 7.94 7.94V23h2v-2.06c4.17-.46 7.48-3.77 7.94-7.94H23v-2zM12 19c-3.87 0-7-3.13-7-7s3.13-7 7-7 7 3.13 7 7-3.13 7-7 7"}),"MyLocation")},7393:(e,t,n)=>{n.d(t,{A:()=>g});var r=n(6540),o=n(1783),s=n(5659),i=n(1848),a=n(5669),l=n(8413),c=n(1609);function u(e){return(0,c.Ay)("MuiCardMedia",e)}(0,l.A)("MuiCardMedia",["root","media","img"]);var d=n(4848);const p=(0,i.Ay)("div",{name:"MuiCardMedia",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e,{isMediaComponent:r,isImageComponent:o}=n;return[t.root,r&&t.media,o&&t.img]}})({display:"block",backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"center",variants:[{props:{isMediaComponent:!0},style:{width:"100%"}},{props:{isImageComponent:!0},style:{objectFit:"cover"}}]}),h=["video","audio","picture","iframe","img"],m=["picture","img"],g=r.forwardRef((function(e,t){const n=(0,a.b)({props:e,name:"MuiCardMedia"}),{children:r,className:i,component:l="div",image:c,src:g,style:f,...v}=n,y=h.includes(l),b=!y&&c?{backgroundImage:`url("${c}")`,...f}:f,w={...n,component:l,isMediaComponent:y,isImageComponent:m.includes(l)},k=(e=>{const{classes:t,isMediaComponent:n,isImageComponent:r}=e,o={root:["root",n&&"media",r&&"img"]};return(0,s.A)(o,u,t)})(w);return(0,d.jsx)(p,{className:(0,o.A)(k.root,i),as:l,role:!y&&c?"img":void 0,ref:t,style:b,ownerState:w,src:y?c||g:void 0,...v,children:r})}))},3357:(e,t,n)=>{n.d(t,{A:()=>E});var r=n(6540),o=n(1783),s=n(5659),i=n(7437),a=n(1848),l=n(2637),c=n(5669),u=n(8466),d=n(8660),p=n(8413),h=n(1609);function m(e){return(0,h.Ay)("MuiCircularProgress",e)}(0,p.A)("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);var g=n(4848);const f=44,v=i.i7`
  0% {
    transform: rotate(0deg);
  }

  100% {
    transform: rotate(360deg);
  }
`,y=i.i7`
  0% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: 0;
  }

  50% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -15px;
  }

  100% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -125px;
  }
`,b="string"!=typeof v?i.AH`
        animation: ${v} 1.4s linear infinite;
      `:null,w="string"!=typeof y?i.AH`
        animation: ${y} 1.4s ease-in-out infinite;
      `:null,k=(0,a.Ay)("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],t[`color${(0,u.A)(n.color)}`]]}})((0,l.A)((({theme:e})=>({display:"inline-block",variants:[{props:{variant:"determinate"},style:{transition:e.transitions.create("transform")}},{props:{variant:"indeterminate"},style:b||{animation:`${v} 1.4s linear infinite`}},...Object.entries(e.palette).filter((0,d.A)()).map((([t])=>({props:{color:t},style:{color:(e.vars||e).palette[t].main}})))]})))),C=(0,a.Ay)("svg",{name:"MuiCircularProgress",slot:"Svg",overridesResolver:(e,t)=>t.svg})({display:"block"}),M=(0,a.Ay)("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.circle,t[`circle${(0,u.A)(n.variant)}`],n.disableShrink&&t.circleDisableShrink]}})((0,l.A)((({theme:e})=>({stroke:"currentColor",variants:[{props:{variant:"determinate"},style:{transition:e.transitions.create("stroke-dashoffset")}},{props:{variant:"indeterminate"},style:{strokeDasharray:"80px, 200px",strokeDashoffset:0}},{props:({ownerState:e})=>"indeterminate"===e.variant&&!e.disableShrink,style:w||{animation:`${y} 1.4s ease-in-out infinite`}}]})))),E=r.forwardRef((function(e,t){const n=(0,c.b)({props:e,name:"MuiCircularProgress"}),{className:r,color:i="primary",disableShrink:a=!1,size:l=40,style:d,thickness:p=3.6,value:h=0,variant:v="indeterminate",...y}=n,b={...n,color:i,disableShrink:a,size:l,thickness:p,value:h,variant:v},w=(e=>{const{classes:t,variant:n,color:r,disableShrink:o}=e,i={root:["root",n,`color${(0,u.A)(r)}`],svg:["svg"],circle:["circle",`circle${(0,u.A)(n)}`,o&&"circleDisableShrink"]};return(0,s.A)(i,m,t)})(b),E={},x={},A={};if("determinate"===v){const e=2*Math.PI*((f-p)/2);E.strokeDasharray=e.toFixed(3),A["aria-valuenow"]=Math.round(h),E.strokeDashoffset=`${((100-h)/100*e).toFixed(3)}px`,x.transform="rotate(-90deg)"}return(0,g.jsx)(k,{className:(0,o.A)(w.root,r),style:{width:l,height:l,...x,...d},ownerState:b,ref:t,role:"progressbar",...A,...y,children:(0,g.jsx)(C,{className:w.svg,ownerState:b,viewBox:"22 22 44 44",children:(0,g.jsx)(M,{className:w.circle,style:E,ownerState:b,cx:f,cy:f,r:(f-p)/2,fill:"none",strokeWidth:p})})})}))},5001:(e,t,n)=>{n.d(t,{A:()=>E});var r=n(6540),o=n(1783),s=n(3769),i=n(5659),a=n(4899),l=n(8466),c=n(1848),u=n(4675),d=n(2637),p=n(8660),h=n(5669),m=n(4073),g=n(8413),f=n(1609);function v(e){return(0,f.Ay)("MuiLink",e)}const y=(0,g.A)("MuiLink",["root","underlineNone","underlineHover","underlineAlways","button","focusVisible"]);var b=n(2423);const w=({theme:e,ownerState:t})=>{const n=t.color,r=(0,b.Yn)(e,`palette.${n}`,!1)||t.color,o=(0,b.Yn)(e,`palette.${n}Channel`);return"vars"in e&&o?`rgba(${o} / 0.4)`:(0,s.X4)(r,.4)};var k=n(4848);const C={primary:!0,secondary:!0,error:!0,info:!0,success:!0,warning:!0,textPrimary:!0,textSecondary:!0,textDisabled:!0},M=(0,c.Ay)(m.A,{name:"MuiLink",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[`underline${(0,l.A)(n.underline)}`],"button"===n.component&&t.button]}})((0,d.A)((({theme:e})=>({variants:[{props:{underline:"none"},style:{textDecoration:"none"}},{props:{underline:"hover"},style:{textDecoration:"none","&:hover":{textDecoration:"underline"}}},{props:{underline:"always"},style:{textDecoration:"underline","&:hover":{textDecorationColor:"inherit"}}},{props:({underline:e,ownerState:t})=>"always"===e&&"inherit"!==t.color,style:{textDecorationColor:"var(--Link-underlineColor)"}},...Object.entries(e.palette).filter((0,p.A)()).map((([t])=>({props:{underline:"always",color:t},style:{"--Link-underlineColor":e.vars?`rgba(${e.vars.palette[t].mainChannel} / 0.4)`:(0,s.X4)(e.palette[t].main,.4)}}))),{props:{underline:"always",color:"textPrimary"},style:{"--Link-underlineColor":e.vars?`rgba(${e.vars.palette.text.primaryChannel} / 0.4)`:(0,s.X4)(e.palette.text.primary,.4)}},{props:{underline:"always",color:"textSecondary"},style:{"--Link-underlineColor":e.vars?`rgba(${e.vars.palette.text.secondaryChannel} / 0.4)`:(0,s.X4)(e.palette.text.secondary,.4)}},{props:{underline:"always",color:"textDisabled"},style:{"--Link-underlineColor":(e.vars||e).palette.text.disabled}},{props:{component:"button"},style:{position:"relative",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none","&::-moz-focus-inner":{borderStyle:"none"},[`&.${y.focusVisible}`]:{outline:"auto"}}}]})))),E=r.forwardRef((function(e,t){const n=(0,h.b)({props:e,name:"MuiLink"}),s=(0,u.A)(),{className:c,color:d="primary",component:p="a",onBlur:m,onFocus:g,TypographyClasses:f,underline:y="always",variant:b="inherit",sx:E,...x}=n,[A,L]=r.useState(!1),O={...n,color:d,component:p,focusVisible:A,underline:y,variant:b},S=(e=>{const{classes:t,component:n,focusVisible:r,underline:o}=e,s={root:["root",`underline${(0,l.A)(o)}`,"button"===n&&"button",r&&"focusVisible"]};return(0,i.A)(s,v,t)})(O);return(0,k.jsx)(M,{color:d,className:(0,o.A)(S.root,c),classes:f,component:p,onBlur:e=>{(0,a.A)(e.target)||L(!1),m&&m(e)},onFocus:e=>{(0,a.A)(e.target)&&L(!0),g&&g(e)},ref:t,ownerState:O,variant:b,...x,sx:[...void 0===C[d]?[{color:d}]:[],...Array.isArray(E)?E:[E]],style:{...x.style,..."always"===y&&"inherit"!==d&&!C[d]&&{"--Link-underlineColor":w({theme:s,ownerState:O})}}})}))},6819:(e,t,n)=>{var r;n.d(t,{A:()=>d});var o=n(6540),s=n(1529),i=n(3576),a=n(6539);function l(e,t,n,r,i){const[a,l]=o.useState((()=>i&&n?n(e).matches:r?r(e).matches:t));return(0,s.A)((()=>{if(!n)return;const t=n(e),r=()=>{l(t.matches)};return r(),t.addEventListener("change",r),()=>{t.removeEventListener("change",r)}}),[e,n]),a}const c={...r||(r=n.t(o,2))}.useSyncExternalStore;function u(e,t,n,r,s){const i=o.useCallback((()=>t),[t]),a=o.useMemo((()=>{if(s&&n)return()=>n(e).matches;if(null!==r){const{matches:t}=r(e);return()=>t}return i}),[i,e,r,s,n]),[l,u]=o.useMemo((()=>{if(null===n)return[i,()=>()=>{}];const t=n(e);return[()=>t.matches,e=>(t.addEventListener("change",e),()=>{t.removeEventListener("change",e)})]}),[i,n,e]);return c(u,l,a)}function d(e,t={}){const n=(0,a.A)(),r="undefined"!=typeof window&&void 0!==window.matchMedia,{defaultMatches:o=!1,matchMedia:s=(r?window.matchMedia:null),ssrMatchMedia:d=null,noSsr:p=!1}=(0,i.A)({name:"MuiUseMediaQuery",props:t,theme:n});let h="function"==typeof e?e(n):e;h=h.replace(/^@media( ?)/m,"");return(void 0!==c?u:l)(h,o,s,d,p)}},2017:e=>{e.exports=function e(t,n){if(t===n)return!0;if(t&&n&&"object"==typeof t&&"object"==typeof n){if(t.constructor!==n.constructor)return!1;var r,o,s;if(Array.isArray(t)){if((r=t.length)!=n.length)return!1;for(o=r;0!=o--;)if(!e(t[o],n[o]))return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if((r=(s=Object.keys(t)).length)!==Object.keys(n).length)return!1;for(o=r;0!=o--;)if(!Object.prototype.hasOwnProperty.call(n,s[o]))return!1;for(o=r;0!=o--;){var i=s[o];if(!e(t[i],n[i]))return!1}return!0}return t!=t&&n!=n}},4550:(e,t,n)=>{n.d(t,{Fu:()=>X,J8:()=>G,ST:()=>F,T5:()=>P,c4:()=>m,ko:()=>z,vH:()=>V,zM:()=>T});var r=n(6540),o=n(961),s=n(2017);function i(){return i=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i.apply(null,arguments)}function a(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}function l(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}const c={NOT_LOADED:"NOT_LOADED",LOADING:"LOADING",LOADED:"LOADED",FAILED:"FAILED",AUTH_FAILURE:"AUTH_FAILURE"};class u{static async load(e,t){var n;const r=e.libraries?e.libraries.split(","):[],o=this.serializeParams(e);this.listeners.push(t),null!=(n=window.google)&&null!=(n=n.maps)&&n.importLibrary?(this.serializedApiParams||(this.loadingStatus=c.LOADED),this.notifyLoadingStatusListeners()):(this.serializedApiParams=o,this.initImportLibrary(e)),this.serializedApiParams&&this.serializedApiParams!==o&&console.warn("[google-maps-api-loader] The maps API has already been loaded with different parameters and will not be loaded again. Refresh the page for new values to have effect.");const s=["maps",...r];await Promise.all(s.map((e=>google.maps.importLibrary(e))))}static serializeParams(e){return[e.v,e.key,e.language,e.region,e.authReferrerPolicy,e.solutionChannel].join("/")}static initImportLibrary(e){if(window.google||(window.google={}),window.google.maps||(window.google.maps={}),window.google.maps.importLibrary)return void console.error("[google-maps-api-loader-internal]: initImportLibrary must only be called once");let t=null;const n=()=>t||(t=new Promise(((t,n)=>{var r;const o=document.createElement("script"),s=new URLSearchParams;for(const[t,n]of Object.entries(e)){const e=t.replace(/[A-Z]/g,(e=>"_"+e[0].toLowerCase()));s.set(e,n)}s.set("loading","async"),s.set("callback","__googleMapsCallback__"),o.async=!0,o.src="https://maps.googleapis.com/maps/api/js?"+s.toString(),o.nonce=(null==(r=document.querySelector("script[nonce]"))?void 0:r.nonce)||"",o.onerror=()=>{this.loadingStatus=c.FAILED,this.notifyLoadingStatusListeners(),n(new Error("The Google Maps JavaScript API could not load."))},window.__googleMapsCallback__=()=>{this.loadingStatus=c.LOADED,this.notifyLoadingStatusListeners(),t()},window.gm_authFailure=()=>{this.loadingStatus=c.AUTH_FAILURE,this.notifyLoadingStatusListeners()},this.loadingStatus=c.LOADING,this.notifyLoadingStatusListeners(),document.head.append(o)})),t);google.maps.importLibrary=e=>n().then((()=>google.maps.importLibrary(e)))}static notifyLoadingStatusListeners(){for(const e of this.listeners)e(this.loadingStatus)}}u.loadingStatus=c.NOT_LOADED,u.serializedApiParams=void 0,u.listeners=[];const d=["onLoad","apiKey","version","libraries"],p=["children"],h=r.createContext(null);const m=e=>{const{children:t}=e,n=a(e,p),{mapInstances:o,addMapInstance:s,removeMapInstance:c,clearMapInstances:m}=function(){const[e,t]=(0,r.useState)({});return{mapInstances:e,addMapInstance:(e,n="default")=>{t((t=>i({},t,{[n]:e})))},removeMapInstance:(e="default")=>{t((t=>a(t,[e].map(l))))},clearMapInstances:()=>{t({})}}}(),{status:g,loadedLibraries:f,importLibrary:v}=function(e){const{onLoad:t,apiKey:n,version:o,libraries:s=[]}=e,l=a(e,d),[c,p]=(0,r.useState)(u.loadingStatus),[h,m]=(0,r.useReducer)(((e,t)=>i({},e,{[t.name]:t.value})),{}),g=(0,r.useMemo)((()=>null==s?void 0:s.join(",")),[s]),f=(0,r.useMemo)((()=>JSON.stringify(i({apiKey:n,version:o},l))),[n,o,l]),v=(0,r.useCallback)((async e=>{var t;if(h[e])return h[e];if(null==(t=google)||null==(t=t.maps)||!t.importLibrary)throw new Error("[api-provider-internal] importLibrary was called before google.maps.importLibrary was defined.");const n=await window.google.maps.importLibrary(e);return m({name:e,value:n}),n}),[h]);return(0,r.useEffect)((()=>{(async()=>{try{const e=i({key:n},l);o&&(e.v=o),(null==g?void 0:g.length)>0&&(e.libraries=g),void 0===e.solutionChannel?e.solutionChannel="GMP_visgl_rgmlibrary_v1_default":""===e.solutionChannel&&delete e.solutionChannel,await u.load(e,(e=>p(e)));for(const e of["core","maps",...s])await v(e);t&&t()}catch(e){console.error("<ApiProvider> failed to load the Google Maps JavaScript API",e)}})()}),[n,g,f]),{status:c,loadedLibraries:h,importLibrary:v}}(n),y=(0,r.useMemo)((()=>({mapInstances:o,addMapInstance:s,removeMapInstance:c,clearMapInstances:m,status:g,loadedLibraries:f,importLibrary:v})),[o,s,c,m,g,f,v]);return r.createElement(h.Provider,{value:y},t)};function g(e,t,n){const r={type:e,map:t,detail:{},stoppable:!1,stop:()=>{}};if(v.includes(e)){const e=r,n=t.getCenter(),o=t.getZoom(),s=t.getHeading()||0,i=t.getTilt()||0,a=t.getBounds();return n&&a&&Number.isFinite(o)||console.warn("[createEvent] at least one of the values from the map returned undefined. This is not expected to happen. Please report an issue at https://github.com/visgl/react-google-maps/issues/new"),e.detail={center:(null==n?void 0:n.toJSON())||{lat:0,lng:0},zoom:o||0,heading:s,tilt:i,bounds:(null==a?void 0:a.toJSON())||{north:90,east:180,south:-90,west:-180}},e}if(y.includes(e)){var o;if(!n)throw new Error("[createEvent] mouse events must provide a srcEvent");const e=r;return e.domEvent=n.domEvent,e.stoppable=!0,e.stop=()=>n.stop(),e.detail={latLng:(null==(o=n.latLng)?void 0:o.toJSON())||null,placeId:n.placeId},e}return r}const f={onBoundsChanged:"bounds_changed",onCenterChanged:"center_changed",onClick:"click",onContextmenu:"contextmenu",onDblclick:"dblclick",onDrag:"drag",onDragend:"dragend",onDragstart:"dragstart",onHeadingChanged:"heading_changed",onIdle:"idle",onIsFractionalZoomEnabledChanged:"isfractionalzoomenabled_changed",onMapCapabilitiesChanged:"mapcapabilities_changed",onMapTypeIdChanged:"maptypeid_changed",onMousemove:"mousemove",onMouseout:"mouseout",onMouseover:"mouseover",onProjectionChanged:"projection_changed",onRenderingTypeChanged:"renderingtype_changed",onTilesLoaded:"tilesloaded",onTiltChanged:"tilt_changed",onZoomChanged:"zoom_changed",onCameraChanged:"bounds_changed"},v=["bounds_changed","center_changed","heading_changed","tilt_changed","zoom_changed"],y=["click","contextmenu","dblclick","mousemove","mouseout","mouseover"],b=Object.keys(f);function w(e,t){const n=(0,r.useRef)(void 0);n.current&&s(t,n.current)||(n.current=t),(0,r.useEffect)(e,n.current)}const k=new Set(["backgroundColor","clickableIcons","controlSize","disableDefaultUI","disableDoubleClickZoom","draggable","draggableCursor","draggingCursor","fullscreenControl","fullscreenControlOptions","gestureHandling","headingInteractionEnabled","isFractionalZoomEnabled","keyboardShortcuts","mapTypeControl","mapTypeControlOptions","mapTypeId","maxZoom","minZoom","noClear","panControl","panControlOptions","restriction","rotateControl","rotateControlOptions","scaleControl","scaleControlOptions","scrollwheel","streetView","streetViewControl","streetViewControlOptions","styles","tiltInteractionEnabled","zoomControl","zoomControlOptions"]);function C(){var e;return(null==(e=(0,r.useContext)(h))?void 0:e.status)||c.NOT_LOADED}function M(e){return function(e){return!(!e||"object"!=typeof e)&&"lat"in e&&"lng"in e&&Number.isFinite(e.lat)&&Number.isFinite(e.lng)}(e)?e:e.toJSON()}const E=()=>r.createElement("div",{style:{position:"absolute",top:0,left:0,bottom:0,right:0,zIndex:999,display:"flex",flexFlow:"column nowrap",textAlign:"center",justifyContent:"center",fontSize:".8rem",color:"rgba(0,0,0,0.6)",background:"#dddddd",padding:"1rem 1.5rem"}},r.createElement("h2",null,"Error: AuthFailure"),r.createElement("p",null,"A problem with your API key prevents the map from rendering correctly. Please make sure the value of the ",r.createElement("code",null,"APIProvider.apiKey")," prop is correct. Check the error-message in the console for further details."));function x(){return C()===c.LOADED}function A(e){const t=function(){const[,e]=(0,r.useReducer)((e=>e+1),0);return e}(),n=(0,r.useRef)({center:{lat:0,lng:0},heading:0,tilt:0,zoom:0});return(0,r.useEffect)((()=>{if(!e)return;const r=google.maps.event.addListener(e,"bounds_changed",(()=>{!function(e,t){const n=e.getCenter(),r=e.getZoom(),o=e.getHeading()||0,s=e.getTilt()||0,i=e.getBounds();n&&i&&Number.isFinite(r)||console.warn("[useTrackedCameraState] at least one of the values from the map returned undefined. This is not expected to happen. Please report an issue at https://github.com/visgl/react-google-maps/issues/new"),Object.assign(t.current,{center:(null==n?void 0:n.toJSON())||{lat:0,lng:0},zoom:r||0,heading:o,tilt:s})}(e,n),t()}));return()=>r.remove()}),[e,t]),n}const L=["id","defaultBounds","defaultCenter","defaultZoom","defaultHeading","defaultTilt","reuseMaps","renderingType","colorScheme"],O=["padding"];class S{static has(e){return this.entries[e]&&this.entries[e].length>0}static pop(e){return this.entries[e]&&this.entries[e].pop()||null}static push(e,t){this.entries[e]||(this.entries[e]=[]),this.entries[e].push(t)}}function _(e,t){const n=x(),[o,s]=(0,r.useState)(null),[l,c]=function(){const[e,t]=(0,r.useState)(null);return[e,(0,r.useCallback)((e=>t(e)),[t])]}(),u=A(o),{id:d,defaultBounds:p,defaultCenter:h,defaultZoom:m,defaultHeading:g,defaultTilt:f,reuseMaps:v,renderingType:y,colorScheme:b}=e,w=a(e,L),k=void 0!==e.zoom||void 0!==e.defaultZoom,C=void 0!==e.center||void 0!==e.defaultCenter;p||k&&C||console.warn("<Map> component is missing configuration. You have to provide zoom and center (via the `zoom`/`defaultZoom` and `center`/`defaultCenter` props) or specify the region to show using `defaultBounds`. See https://visgl.github.io/react-google-maps/docs/api-reference/components/map#required"),!w.center&&h&&(w.center=h),!w.zoom&&Number.isFinite(m)&&(w.zoom=m),!w.heading&&Number.isFinite(g)&&(w.heading=g),!w.tilt&&Number.isFinite(f)&&(w.tilt=f);for(const e of Object.keys(w))void 0===w[e]&&delete w[e];const M=(0,r.useRef)();return(0,r.useEffect)((()=>{if(!l||!n)return;const{addMapInstance:r,removeMapInstance:o}=t,{mapId:c}=e,h=`${c||"default"}:${y||"default"}:${b||"LIGHT"}`;let m,g;if(v&&S.has(h)?(g=S.pop(h),m=g.getDiv(),l.appendChild(m),g.setOptions(w),setTimeout((()=>g.setCenter(g.getCenter())),0)):(m=document.createElement("div"),m.style.height="100%",l.appendChild(m),g=new google.maps.Map(m,i({},w,y?{renderingType:y}:{},b?{colorScheme:b}:{}))),s(g),r(g,d),p){const{padding:e}=p,t=a(p,O);g.fitBounds(t,e)}else k&&C||g.fitBounds({east:180,west:-180,south:-90,north:90});if(M.current){const{mapId:e,cameraState:t}=M.current;e!==c&&g.setOptions(t)}return()=>{M.current={mapId:c,cameraState:u.current},m.remove(),v?S.push(h,g):google.maps.event.clearInstanceListeners(g),s(null),o(d)}}),[l,n,d,e.mapId,e.renderingType,e.colorScheme]),[o,c,u]}S.entries={};const I=r.createContext(null),T={DARK:"DARK",LIGHT:"LIGHT",FOLLOW_SYSTEM:"FOLLOW_SYSTEM"},P=e=>{const{children:t,id:n,className:o,style:s}=e,a=(0,r.useContext)(h),l=C();if(!a)throw new Error("<Map> can only be used inside an <ApiProvider> component.");const[u,d,p]=_(e,a);!function(e,t,n){const o=n.center?M(n.center):null;let s=null,i=null;o&&Number.isFinite(o.lat)&&Number.isFinite(o.lng)&&(s=o.lat,i=o.lng);const a=Number.isFinite(n.zoom)?n.zoom:null,l=Number.isFinite(n.heading)?n.heading:null,c=Number.isFinite(n.tilt)?n.tilt:null;(0,r.useLayoutEffect)((()=>{if(!e)return;const n={};let r=!1;null===s||null===i||t.current.center.lat===s&&t.current.center.lng===i||(n.center={lat:s,lng:i},r=!0),null!==a&&t.current.zoom!==a&&(n.zoom=a,r=!0),null!==l&&t.current.heading!==l&&(n.heading=l,r=!0),null!==c&&t.current.tilt!==c&&(n.tilt=c,r=!0),r&&e.moveCamera(n)}))}(u,p,e),function(e,t){for(const n of b){const o=t[n],s=f[n];(0,r.useEffect)((()=>{if(!e)return;if(!o)return;const t=google.maps.event.addListener(e,s,(t=>{o(g(s,e,t))}));return()=>t.remove()}),[e,s,o])}}(u,e),function(e,t){const n={},r=Object.keys(t);for(const e of r)k.has(e)&&(n[e]=t[e]);w((()=>{e&&e.setOptions(n)}),[n])}(u,e);const m=function(e,t){const{viewport:n,viewState:o}=t,s=!!n;return(0,r.useLayoutEffect)((()=>{if(!e||!o)return;const{latitude:t,longitude:n,bearing:r,pitch:s,zoom:i}=o;e.moveCamera({center:{lat:t,lng:n},heading:r,tilt:s,zoom:i+1})}),[e,o]),s}(u,e),v=!!e.controlled;(0,r.useEffect)((()=>{if(u)return m&&u.setOptions({disableDefaultUI:!0}),(m||v)&&u.setOptions({gestureHandling:"none",keyboardShortcuts:!1}),()=>{u.setOptions({gestureHandling:e.gestureHandling,keyboardShortcuts:e.keyboardShortcuts})}}),[u,m,v,e.gestureHandling,e.keyboardShortcuts]);const y=e.center?M(e.center):null;let x=null,A=null;y&&Number.isFinite(y.lat)&&Number.isFinite(y.lng)&&(x=y.lat,A=y.lng);const L=(0,r.useMemo)((()=>{var t,n,r,o,s;return{center:{lat:null!=(t=x)?t:0,lng:null!=(n=A)?n:0},zoom:null!=(r=e.zoom)?r:0,heading:null!=(o=e.heading)?o:0,tilt:null!=(s=e.tilt)?s:0}}),[x,A,e.zoom,e.heading,e.tilt]);(0,r.useLayoutEffect)((()=>{if(!u||!v)return;u.moveCamera(L);const e=u.addListener("bounds_changed",(()=>{u.moveCamera(L)}));return()=>e.remove()}),[u,v,L]);const O=(0,r.useMemo)((()=>i({width:"100%",height:"100%",position:"relative",zIndex:m?-1:0},s)),[s,m]),S=(0,r.useMemo)((()=>({map:u})),[u]);return l===c.AUTH_FAILURE?r.createElement("div",{style:i({position:"relative"},o?{}:O),className:o},r.createElement(E,null)):r.createElement("div",i({ref:d,"data-testid":"map",style:o?void 0:O,className:o},n?{id:n}:{}),u?r.createElement(I.Provider,{value:S},t):null)};P.deckGLViewProps=!0;const D=new Set;function N(...e){const t=JSON.stringify(e);D.has(t)||(D.add(t),console.error(...e))}const z=(e=null)=>{const t=(0,r.useContext)(h),{map:n}=(0,r.useContext)(I)||{};if(null===t)return N("useMap(): failed to retrieve APIProviderContext. Make sure that the <APIProvider> component exists and that the component you are calling `useMap()` from is a sibling of the <APIProvider>."),null;const{mapInstances:o}=t;return null!==e?o[e]||null:n||(o.default||null)};function F(e){const t=x(),n=(0,r.useContext)(h);return(0,r.useEffect)((()=>{t&&n&&n.importLibrary(e)}),[t,n,e]),(null==n?void 0:n.loadedLibraries[e])||null}function R(e,t,n){(0,r.useEffect)((()=>{if(!e||!t||!n)return;const r=google.maps.event.addListener(e,t,n);return()=>r.remove()}),[e,t,n])}function j(e,t,n){(0,r.useEffect)((()=>{e&&(e[t]=n)}),[e,t,n])}function Z(e,t,n){(0,r.useEffect)((()=>{if(e&&t&&n)return e.addEventListener(t,n),()=>e.removeEventListener(t,n)}),[e,t,n])}const $=["transform"];const B=r.createContext(null),H={TOP_LEFT:["0","0"],TOP_CENTER:["50%","0"],TOP:["50%","0"],TOP_RIGHT:["100%","0"],LEFT_CENTER:["0","50%"],LEFT_TOP:["0","0"],LEFT:["0","50%"],LEFT_BOTTOM:["0","100%"],RIGHT_TOP:["100%","0"],RIGHT:["100%","50%"],RIGHT_CENTER:["100%","50%"],RIGHT_BOTTOM:["100%","100%"],BOTTOM_LEFT:["0","100%"],BOTTOM_CENTER:["50%","100%"],BOTTOM:["50%","100%"],BOTTOM_RIGHT:["100%","100%"],CENTER:["50%","50%"]},U=({children:e,styles:t,className:n,anchorPoint:o})=>{const[s,l]=null!=o?o:H.BOTTOM,c=null!=t?t:{},{transform:u}=c,d=a(c,$);let p=`translate(-${s}, -${l})`;return u&&(p+=` ${u}`),r.createElement("div",{className:n,style:i({width:"fit-content",transformOrigin:`${s} ${l}`,transform:p},d)},e)};const G=(0,r.forwardRef)(((e,t)=>{const{children:n,style:s,className:i,anchorPoint:a}=e,[l,c]=function(e){const[t,n]=(0,r.useState)(null),[o,s]=(0,r.useState)(null),i=z(),a=F("marker"),{children:l,onClick:c,className:u,onMouseEnter:d,onMouseLeave:p,onDrag:h,onDragStart:m,onDragEnd:g,collisionBehavior:f,clickable:v,draggable:y,position:b,title:w,zIndex:k}=e,C=r.Children.count(l);return(0,r.useEffect)((()=>{if(!i||!a)return;const e=new a.AdvancedMarkerElement;e.map=i,n(e);let t=null;return C>0&&(t=document.createElement("div"),t.style.width="0",t.style.height="0",e.content=t,s(t)),()=>{var r;e.map=null,null==(r=t)||r.remove(),n(null),s(null)}}),[i,a,C]),(0,r.useEffect)((()=>{!t||!t.content||C>0||(t.content.className=u||"")}),[t,u,C]),j(t,"position",b),j(t,"title",null!=w?w:""),j(t,"zIndex",k),j(t,"collisionBehavior",f),(0,r.useEffect)((()=>{t&&(t.gmpDraggable=void 0!==y?y:!!(h||m||g))}),[t,y,h,g,m]),(0,r.useEffect)((()=>{t&&(t.gmpClickable=void 0!==v?v:!!c)}),[t,v,c]),R(t,"click",c),R(t,"drag",h),R(t,"dragstart",m),R(t,"dragend",g),Z(null==t?void 0:t.element,"mouseenter",d),Z(null==t?void 0:t.element,"mouseleave",p),[t,o]}(e),u=(0,r.useMemo)((()=>l?{marker:l}:null),[l]);return(0,r.useImperativeHandle)(t,(()=>l),[l]),c?r.createElement(B.Provider,{value:u},(0,o.createPortal)(r.createElement(U,{anchorPoint:a,styles:s,className:i},n),c)):null}));function V(){const[e,t]=(0,r.useState)(null);return[(0,r.useCallback)((e=>{t(e)}),[]),e]}function J(e,t,n){const r=0===t.indexOf("--");var o;null==n||"boolean"==typeof n||""===n?r?e.setProperty(t,""):"float"===t?e.cssFloat="":e[t]="":r?e.setProperty(t,n):"number"!=typeof n||0===n||(o=t,K.has(o))?"float"===t?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}const K=new Set(["animationIterationCount","aspectRatio","borderImageOutset","borderImageSlice","borderImageWidth","boxFlex","boxFlexGroup","boxOrdinalGroup","columnCount","columns","flex","flexGrow","flexPositive","flexShrink","flexNegative","flexOrder","gridArea","gridRow","gridRowEnd","gridRowSpan","gridRowStart","gridColumn","gridColumnEnd","gridColumnSpan","gridColumnStart","fontWeight","lineClamp","lineHeight","opacity","order","orphans","scale","tabSize","widows","zIndex","zoom","fillOpacity","floodOpacity","stopOpacity","strokeDasharray","strokeDashoffset","strokeMiterlimit","strokeOpacity","strokeWidth"]);const W=["children","headerContent","style","className","pixelOffset","anchor","shouldFocus","onClose","onCloseClick"],X=e=>{const{children:t,headerContent:n,style:s,className:i,pixelOffset:l,anchor:c,shouldFocus:u,onClose:d,onCloseClick:p}=e,h=a(e,W),m=F("maps"),[g,f]=(0,r.useState)(null),v=(0,r.useRef)(null),y=(0,r.useRef)(null);(0,r.useEffect)((()=>{if(!m)return;v.current=document.createElement("div"),y.current=document.createElement("div");const e=h;l&&(e.pixelOffset=new google.maps.Size(l[0],l[1])),n&&(e.headerContent="string"==typeof n?n:y.current);const t=new google.maps.InfoWindow(h);return t.setContent(v.current),f(t),()=>{var e,n;t.setContent(null),null==(e=v.current)||e.remove(),null==(n=y.current)||n.remove(),v.current=null,y.current=null,f(null)}}),[m]);const b=(0,r.useRef)(null);(0,r.useEffect)((()=>{g&&v.current&&(!function(e,t,n){if(null!=t&&"object"!=typeof t)throw new Error("The `style` prop expects a mapping from style properties to values, not a string. For example, style={{marginRight: spacing + 'em'}} when using JSX.");const r=e.style;if(null!=n){for(const e in n)!n.hasOwnProperty(e)||null!=t&&t.hasOwnProperty(e)||(0===e.indexOf("--")?r.setProperty(e,""):"float"===e?r.cssFloat="":r[e]="");if(null!=t)for(const e in t){const o=t[e];t.hasOwnProperty(e)&&n[e]!==o&&J(r,e,o)}}else{if(null==t)return;for(const e in t)t.hasOwnProperty(e)&&J(r,e,t[e])}}(v.current,s||null,b.current),b.current=s||null,i!==v.current.className&&(v.current.className=i||""))}),[g,i,s]),w((()=>{if(!g)return;const e=h;e.pixelOffset=l?new google.maps.Size(l[0],l[1]):null,e.headerContent=n?"string"==typeof n?n:y.current:null,g.setOptions(h)}),[h,l,n]),R(g,"close",d),R(g,"closeclick",p);const k=z();return(0,r.useEffect)((()=>{if(!k||!g||null===c)return;const e=!!c,t={map:k};if(c&&(t.anchor=c,void 0!==c.content&&c.content instanceof Element)){var n;const e=null!=(n=c.content.getBoundingClientRect())?n:{},{width:t,height:r}=e;if(0===t&&0===r){const t=c.content.firstElementChild,n=null==t?void 0:t.getBoundingClientRect(),r=n.x-e.x+n.width/2,o=n.y-e.y,s=h;s.pixelOffset=new google.maps.Size(l?l[0]+r:r,l?l[1]+o:o),g.setOptions(s)}}return void 0!==u&&(t.shouldFocus=u),g.open(t),()=>{e&&g.set("anchor",null),g.close()}}),[g,c,k,u,h,l]),r.createElement(r.Fragment,null,v.current&&(0,o.createPortal)(t,v.current),null!==y.current&&(0,o.createPortal)(n,y.current))},Y=["onClick","onDrag","onDragStart","onDragEnd","onMouseOver","onMouseOut"];(0,r.forwardRef)(((e,t)=>{const n=function(e){const[t,n]=(0,r.useState)(null),o=z(),{onClick:s,onDrag:i,onDragStart:l,onDragEnd:c,onMouseOver:u,onMouseOut:d}=e,p=a(e,Y),{position:h,draggable:m}=p;return(0,r.useEffect)((()=>{if(!o)return void(void 0===o&&console.error("<Marker> has to be inside a Map component."));const e=new google.maps.Marker(p);return e.setMap(o),n(e),()=>{e.setMap(null),n(null)}}),[o]),(0,r.useEffect)((()=>{if(!t)return;const e=t,n=google.maps.event;return s&&n.addListener(e,"click",s),i&&n.addListener(e,"drag",i),l&&n.addListener(e,"dragstart",l),c&&n.addListener(e,"dragend",c),u&&n.addListener(e,"mouseover",u),d&&n.addListener(e,"mouseout",d),t.setDraggable(Boolean(m)),()=>{n.clearInstanceListeners(e)}}),[t,m,s,i,l,c,u,d]),(0,r.useEffect)((()=>{t&&p&&t.setOptions(p)}),[t,p]),(0,r.useEffect)((()=>{!m&&h&&t&&t.setPosition(h)}),[m,h,t]),t}(e);return(0,r.useImperativeHandle)(t,(()=>n),[n]),r.createElement(r.Fragment,null)}))}}]);